(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[132],{12145:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/post/[tokenId]",function(){return n(5585)}])},53672:function(e,t,n){"use strict";n.d(t,{Nm:function(){return a},Tg:function(){return i},Wd:function(){return l}});var r=n(11163),o=n(67294),a=function(e){return Array.isArray(e)?e[0]:e},i=function(e){return Array.isArray(e)?Number(e[0]):Number(e)},l=function(e,t){var n=(0,r.useRouter)();return(0,o.useMemo)(function(){var r,o,a;return t((r=n.query)[e])},[n.query,e,t])}},5585:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(85893),o=n(99166),a=n(26042),i=n(69396),l=n(67294),s=n(8100),c=n(27501),u=n(89731),d=n(30518);function f(e){var t=e.marketItem,n=(0,u.Z)(),o=(0,c.PJ)((0,i.Z)((0,a.Z)({},n),{functionName:"executeSale",args:[null==t?void 0:t.tokenId],overrides:{value:null==t?void 0:t.price},enabled:Boolean(t)})).config,l=(0,c.GG)(o),s=l.data,d=l.write,f=l.isLoading,m=(0,c.BX)({hash:null==s?void 0:s.hash}).data;return(0,r.jsx)("button",{className:"my-2 rounded bg-blue-500 py-2 px-4 text-sm font-bold text-white hover:bg-blue-700",disabled:Boolean(f||m||s||!t),onClick:function(){return null==d?void 0:d()},children:"buy this NFT"})}var m=n(56371);function h(e){var t=e.marketItem,n=(0,u.Z)(),o=(0,l.useState)(""),s=o[0],d=o[1],f=(0,c.PJ)((0,i.Z)((0,a.Z)({},n),{functionName:"updateListingPrice",args:[null==t?void 0:t.tokenId,(0,m.parseEther)(s||"0")],enabled:Boolean(t)})).config,h=(0,c.GG)(f),b=h.data,p=h.write,x=h.isLoading,y=(0,c.BX)({hash:null==b?void 0:b.hash}).data,g=(0,l.useCallback)(function(e){e.preventDefault(),null==p||p()},[p]);return(0,r.jsxs)("form",{onSubmit:g,children:[(0,r.jsx)("input",{className:"w-full appearance-none rounded border p-2 leading-tight text-gray-700",type:"number",placeholder:"Set a Selling Price for CET",step:"0.01",min:"0.0001",required:!0,value:s,onChange:function(e){return d(e.target.value)}}),(0,r.jsx)("button",{type:"submit",disabled:Boolean(x||y||b||!t),className:"my-2 rounded bg-blue-500 py-2 px-4 text-sm font-bold text-white hover:bg-blue-700",children:y?"Updated price":b||x?"Updating price...":"Sell this NFT"})]})}function b(e){var t=e.tokenId,n=(0,c.mA)().address,o=(0,u.Z)(),m=(0,c.do)((0,i.Z)((0,a.Z)({},o),{functionName:"tokenURI",args:[t]})),b=m.data,p=m.isLoading,x=(0,c.do)((0,i.Z)((0,a.Z)({},o),{functionName:"fetchNftById",args:[t],watch:!0})).data,y=(0,s.ZP)(b),g=y.data,v=y.isValidating,j=(0,l.useMemo)(function(){return g?{image:g.image,name:g.name,description:g.description}:void 0},[g]);return p||v?(0,r.jsx)(r.Fragment,{children:"Loading..."}):j?(0,r.jsxs)("div",{className:"flex flex-wrap rounded-lg border py-10 shadow",children:[j.image&&(0,r.jsx)("img",{src:j.image,alt:j.creator,className:"w-full object-contain lg:w-3/5"}),(0,r.jsxs)("div",{className:"w-full p-5 lg:w-2/5",children:[(0,r.jsx)("h2",{className:"mt-1 text-base ",children:"Name: "}),(0,r.jsxs)("p",{className:"my-2 text-3xl font-bold",children:[" ",g.name]}),(0,r.jsx)("h2",{className:"my-1 text-base",children:"Description: "}),(0,r.jsxs)("p",{className:"my-2 text-base font-bold",children:[" ",g.description]}),(0,r.jsxs)("div",{className:"flex flex-row",children:[(0,r.jsx)("h2",{className:"my-1 text-base",children:"Created by: "}),(null==x?void 0:x.creator)==n?(0,r.jsx)("a",{href:"/profile/".concat(null==x?void 0:x.creator),children:(0,r.jsx)("p",{className:"ml-2 mt-1 text-sm text-sky-600",children:" you"})}):(0,r.jsx)("a",{href:"/profile/".concat(null==x?void 0:x.creator),children:(0,r.jsxs)("p",{className:"ml-2 mt-1 text-sm text-sky-600",children:[" ",(0,d.n)(null==x?void 0:x.creator,6,4)]})})]}),(0,r.jsxs)("div",{className:"flex flex-row",children:[(0,r.jsx)("h2",{className:"my-1 text-base",children:"Owner by:"}),(null==x?void 0:x.owner)==n?(0,r.jsx)("a",{href:"/profile/".concat(null==x?void 0:x.owner),children:(0,r.jsx)("p",{className:"ml-2 mt-1 text-sm text-sky-600",children:" you"})}):(0,r.jsx)("a",{href:"/profile/".concat(null==x?void 0:x.owner),children:(0,r.jsxs)("p",{className:"ml-2 mt-1 text-sm text-sky-600",children:[" ",(0,d.n)(null==x?void 0:x.owner,6,4)]})})]}),(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",className:"my-8 rounded-lg bg-blue-500 p-2 hover:bg-blue-300",href:"https://testnet.coinex.net/token/0x59e4c64ED7cAE20531665768c6Fd5723a38D6b1b?a="+t,children:(0,r.jsx)("button",{className:"my-8 text-white",children:"View on Coinex.net"})}),(0,r.jsx)("div",{className:"my-2",children:(null==x?void 0:x.owner)==n?(0,r.jsx)(h,{marketItem:x}):(null==x?void 0:x.selling)?(0,r.jsx)(f,{marketItem:x}):null})]})]}):null}var p=n(53672);function x(){var e=(0,p.Wd)("tokenId",p.Tg);return(0,r.jsx)(o.Z,{children:null!=e&&(0,r.jsx)(b,{tokenId:e})})}},30518:function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e?e.substring(0,t)+"..."+(n?e.slice(-n):""):""}n.d(t,{n:function(){return r}})},11163:function(e,t,n){e.exports=n(90387)},69396:function(e,t,n){"use strict";function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}n.d(t,{Z:function(){return r}})},70603:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{Z:function(){return o}})}},function(e){e.O(0,[204,632,774,888,179],function(){return e(e.s=12145)}),_N_E=e.O()}]);